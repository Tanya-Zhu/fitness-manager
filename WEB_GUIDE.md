# 运动管家 - 网页版使用指南

## 🚀 启动应用

### 1. 启动后端服务

```bash
# 1. 激活虚拟环境
source venv/bin/activate  # Mac/Linux
# 或 venv\Scripts\activate  # Windows

# 2. 启动数据库（如果还没启动）
docker-compose up -d

# 3. 运行数据库迁移（首次使用）
alembic upgrade head

# 4. 启动FastAPI应用
python src/main.py
```

应用将在 **http://localhost:8000** 启动

### 2. 访问网页

打开浏览器，访问：**http://localhost:8000**

你将看到登录页面。

---

## 📱 功能说明

### 用户认证

#### 注册新账号
1. 在登录页面点击"立即注册"
2. 填写邮箱、密码（最少8个字符）
3. 可选填写姓名
4. 点击"注册"按钮
5. 注册成功后自动跳转到登录页

#### 登录
1. 输入注册时使用的邮箱和密码
2. 点击"登录"按钮
3. 登录成功后会跳转到主页

**演示账号**（需先注册）：
- 邮箱：demo@example.com
- 密码：password123

---

### 主页功能

登录成功后，你将看到：

#### 计划列表
- 显示所有健身计划卡片
- 每个卡片显示：计划名称、描述、锻炼项目数量、状态
- 支持筛选：全部/进行中/已暂停

#### 操作按钮
- **创建新计划**：创建一个新的健身计划
- **查看详情**：查看计划的详细信息
- **删除**：删除整个计划（需确认）

#### 分页
- 如果计划超过12个，会显示分页控件
- 点击"上一页"/"下一页"浏览更多计划

---

### 创建健身计划

点击"创建新计划"按钮：

1. **填写计划名称**（必填，最多50个字符）
   - 例如："减脂训练计划"

2. **填写计划描述**（可选）
   - 例如："每周3次有氧运动"

3. **添加锻炼项目**（至少1个）
   - 项目名称：例如"跑步"、"俯卧撑"
   - 时长（分钟）或次数：至少填一个
     - 时长：适合有氧运动（如跑步30分钟）
     - 次数：适合力量训练（如俯卧撑20次）
   - 强度：低/中/高

4. **点击"+ 添加锻炼项目"**可以添加更多项目

5. **点击"创建计划"**提交

---

### 计划详情页面

点击任何计划的"查看详情"按钮：

#### 查看信息
- 计划名称、描述、状态
- 所有锻炼项目列表
- 所有提醒设置

#### 编辑计划
- **编辑计划**：修改计划名称
- **暂停/恢复**：改变计划状态（暂停的计划不会发送提醒）
- **删除计划**：永久删除整个计划

#### 管理锻炼项目
- **添加项目**：为计划添加新的锻炼项目
- **删除项目**：删除某个锻炼项目
  - 注意：不能删除最后一个项目

#### 设置提醒
- **添加提醒**：
  - 选择提醒时间（例如：07:30）
  - 选择频率：每天/每周
  - 选择重复日期（周一到周日）
  - 点击"添加"
- **删除提醒**：移除不需要的提醒

---

## 💡 使用技巧

### 1. 登录状态
- Token有效期为15分钟
- 过期后需要重新登录
- 退出登录：点击右上角"退出登录"

### 2. 筛选计划
- **全部**：显示所有计划
- **进行中**：只显示active状态的计划
- **已暂停**：只显示paused状态的计划

### 3. 锻炼项目设置
- 跑步、游泳等有氧运动：填写时长
- 俯卧撑、深蹲等力量训练：填写次数
- 也可以同时填写时长和次数

### 4. 提醒功能
- 设置每天早上7点提醒：
  - 时间：07:00
  - 频率：每天

- 设置工作日提醒：
  - 时间：07:00
  - 频率：每周
  - 勾选：周一、周二、周三、周四、周五

### 5. 数据安全
- 每个用户只能看到自己的计划
- 所有操作都需要登录认证
- 密码经过加密存储

---

## 🎨 界面说明

### 颜色标识
- **蓝色**：主要操作按钮（创建、编辑、查看）
- **绿色标签**：进行中的计划
- **黄色标签**：已暂停的计划
- **红色按钮**：删除操作

### 响应式设计
- 支持手机、平板、电脑访问
- 自动适配不同屏幕尺寸

---

## 🔧 开发者选项

### API文档
- **Swagger UI**：http://localhost:8000/api/docs
- **ReDoc**：http://localhost:8000/api/redoc

### 查看健康状态
- 访问：http://localhost:8000/health

### 直接使用API
如果需要用代码调用API：

```javascript
// 示例：使用fetch调用API
const response = await fetch('http://localhost:8000/api/v1/plans', {
  headers: {
    'Authorization': 'Bearer YOUR_TOKEN',
    'Content-Type': 'application/json'
  }
});
const data = await response.json();
```

---

## ❓ 常见问题

### Q: 为什么页面一直加载？
A:
1. 检查后端是否正常运行
2. 检查浏览器控制台是否有错误
3. 确认数据库已启动

### Q: 登录后看不到计划？
A: 这是正常的，新用户没有计划。点击"创建新计划"开始使用。

### Q: 忘记密码怎么办？
A: 当前版本暂未实现密码重置功能。可以注册新账号或联系管理员。

### Q: 能否导出数据？
A: 当前版本暂未实现导出功能。数据存储在PostgreSQL数据库中。

### Q: 手机上能用吗？
A: 可以！网页版完全支持手机浏览器访问，界面会自动适配。

---

## 📞 技术支持

如有问题或建议，请：
1. 查看控制台日志
2. 访问API文档了解详细信息
3. 联系开发团队

---

## 🎉 开始使用

现在你已经了解了所有功能，开始创建你的第一个健身计划吧！

1. 访问 http://localhost:8000
2. 注册/登录
3. 创建计划
4. 设置提醒
5. 开始健身！💪

**祝你健身愉快！🏃‍♂️**
