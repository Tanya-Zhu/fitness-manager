# 📱 跟我一步步上传到 anker-launch

**请按照这个文档，一步一步操作，不要跳过任何步骤！**

---

## 🔑 准备工作（5分钟）

### 步骤 1：生成密钥

1. 打开终端（就是您现在用的这个黑色窗口）
2. 复制这条命令：
   ```
   openssl rand -hex 32
   ```
3. 粘贴到终端，按回车
4. 会显示一串很长的字母和数字，**复制它**
5. 打开记事本，粘贴进去，标注"这是我的密钥"

### 步骤 2：找到要上传的文件

1. 文件名是：`fitness-manager-deploy-20251117_111518.tar.gz`
2. 位置在：`/Users/admin/my-project/`
3. 在 Finder 中打开这个文件夹，能看到这个文件

---

## 🌐 开始上传（10分钟）

### 步骤 3：登录网站

1. 打开浏览器（Chrome、Safari 都行）
2. 输入网址：`https://go.anker-launch.com/dashboard`
3. 用您的账号登录
4. 看到主页面了吗？✅

### 步骤 4：创建应用

1. 找到"新建应用"或"Create New App"按钮（通常是蓝色的大按钮）
2. 点击它
3. 填写信息：
   - 应用名称：输入 `fitness-manager`（或者您喜欢的名字）
   - 其他选项：保持默认就好
4. 点击"创建"或"Create"
5. 等几秒，应用创建好了 ✅

### 步骤 5：创建数据库（重要！）

1. 在应用页面找到"数据库"或"Database"标签
2. 点击"添加数据库"或"Add Database"
3. 选择类型：**PostgreSQL**
4. 版本：选 15 或更高
5. 点击"创建"
6. 等待数据库创建完成（可能需要1-2分钟）

### 步骤 6：复制数据库连接（关键步骤！）

1. 数据库创建好后，点击它
2. 找到"连接字符串"或"Connection String"
3. 会看到类似这样的内容：
   ```
   postgresql://username:password@host.com:5432/dbname
   ```
4. **复制它**
5. 打开记事本，粘贴
6. **重要**：把开头的 `postgresql://` 改成 `postgresql+asyncpg://`

   改完后应该是：
   ```
   postgresql+asyncpg://username:password@host.com:5432/dbname
   ```
7. 保存这个，一会要用

### 步骤 7：配置环境变量（最重要！）

1. 在应用页面找到"环境变量"或"Environment Variables"或"Settings"
2. 点击进去
3. 现在要添加 3 个变量，**每个都要单独添加**：

   **第 1 个变量：**
   - 变量名：`APP_ENV`
   - 值：`production`
   - 点击"添加"或"Add"

   **第 2 个变量：**
   - 变量名：`DATABASE_URL`
   - 值：（粘贴步骤6中改好的数据库连接，就是那个 postgresql+asyncpg:// 开头的）
   - 点击"添加"

   **第 3 个变量：**
   - 变量名：`JWT_SECRET_KEY`
   - 值：（粘贴步骤1中生成的那串密钥）
   - 点击"添加"

4. 检查一下，3个变量都添加好了吗？✅

### 步骤 8：上传文件

1. 在应用页面找到"部署"或"Deploy"或"Upload"
2. 点击它
3. 找到"手动上传"或"Upload File"或"Manual Deploy"
4. 点击"选择文件"或"Choose File"
5. 在弹出的窗口中：
   - 找到文件：`fitness-manager-deploy-20251117_111518.tar.gz`
   - 选中它
   - 点击"打开"
6. 文件开始上传（可能需要10-30秒）
7. 上传完成后，会看到文件名显示在页面上 ✅

### 步骤 9：部署

1. 上传完成后，找到"部署"或"Deploy"按钮
2. **点击它**
3. 等待...（会显示进度条或日志，大约需要3-5分钟）

---

## ✅ 检查是否成功

### 步骤 10：查看状态

1. 部署完成后，应用状态应该显示"Running"或"运行中"或绿色图标
2. 找到应用的网址，通常是：
   ```
   https://你的应用名.anker-launch.com
   ```
   或类似的格式

### 步骤 11：测试

1. 复制应用网址
2. 在网址后面加上 `/health`，例如：
   ```
   https://你的应用名.anker-launch.com/health
   ```
3. 在浏览器打开这个网址
4. 如果看到这样的内容，就成功了：
   ```json
   {
     "status": "healthy",
     "timestamp": "..."
   }
   ```

### 步骤 12：查看前端页面

1. 直接访问应用网址（不加 /health）
2. 应该能看到健身管理系统的页面

---

## ❌ 如果出错了

### 常见问题 1：应用启动失败

**检查：**
1. 回到"环境变量"页面
2. 确认有这3个变量：
   - `APP_ENV`
   - `DATABASE_URL`（必须是 postgresql+asyncpg:// 开头）
   - `JWT_SECRET_KEY`
3. 如果缺少或错误，修改后重新部署

### 常见问题 2：数据库连接错误

**检查：**
1. `DATABASE_URL` 是否以 `postgresql+asyncpg://` 开头
2. 数据库是否创建成功

### 常见问题 3：看不到页面

**等待：**
1. 部署可能还没完成，再等1-2分钟
2. 刷新页面
3. 查看应用日志，看看有没有错误信息

---

## 🆘 需要实时帮助？

如果在操作过程中遇到问题：

1. **截图**：把当前看到的页面截图
2. **告诉我**：您在哪一步遇到问题
3. **复制错误**：如果有错误信息，复制给我

我会根据您的具体情况给出解决方案！

---

## 📝 快速检查清单

在开始前，确认您有：
- [ ] 浏览器能打开 anker-launch.com
- [ ] 有 anker-launch 账号和密码
- [ ] 能找到文件 `fitness-manager-deploy-20251117_111518.tar.gz`
- [ ] 10-15分钟的时间

准备好了？开始吧！从步骤1开始 👆
